import{d as D,T as L,r as x,U as R,h as U,w as j,n as F,j as g,c as l,b as s,q,l as v,x as B,G as h,H as k,A as f,o as a,k as S,m as _,v as A,p as G,a as H,_ as z}from"./index-68e97df2.js";const C=u=>(G("data-v-9a2809e3"),u=u(),H(),u),J={class:"sub-page"},K={class:"nav"},O={key:0,class:"anchor"},Q=["onClick"],W=C(()=>s("span",{class:"active-flag"},null,-1)),X=["onClick"],Y={class:"anchor-subsuper"},Z=C(()=>s("span",{class:"active-flag"},null,-1)),$=["onClick"],ee=C(()=>s("span",{class:"active-flag"},null,-1)),te=D({__name:"SubRoutePage",props:{menuData:{type:Array,required:!0}},setup(u){const{menuData:I}=u,P=L(),d=x(location.hash.split("/")[2]);let m=x(R(I,d.value)),T;U(()=>{clearTimeout(T)}),j(d,()=>{m.value=R(I,d.value),T=setTimeout(()=>{w()})});const p=x();let y;F(()=>{setTimeout(()=>w())});async function E(i){await P.push(i),d.value=i,p._value.scrollTop=0}function b(i,o){o.stopPropagation(),document.querySelector(i).scrollIntoView({behavior:"smooth"})}function w(i){p._value.scrollTop=0;let o=[];m.value.forEach(t=>{try{t.anchor&&o.push(document.querySelector(t.anchor).getBoundingClientRect().top),t.subAnchor&&t.subAnchor.forEach(r=>{o.push(document.querySelector(r.anchor).getBoundingClientRect().top)})}catch(r){console.error(r),console.error("找不到锚点结点："+t.anchor)}});let c=document.querySelectorAll(".active-flag");!document.querySelectorAll(".active").length&&c.length&&(c[0].className="active-flag active"),o.sort((t,r)=>r-t),p._value.addEventListener("scroll",()=>{for(let t=0;t<o.length;t++)if(o[t]<p._value.scrollTop+150){y&&(y.className="active-flag"),c[Math.abs(t-o.length+1)].className="active-flag active",y=c[Math.abs(t-o.length+1)];break}else c[Math.abs(t-o.length+1)].className="active-flag"})}return(i,o)=>{var N;const c=g("el-menu-item"),t=g("el-sub-menu"),r=g("el-menu"),M=g("router-view");return a(),l("div",J,[s("div",K,[q(r,{"default-active":d.value,class:"el-menu-vertical-demo",onSelect:E},{default:v(()=>[(a(!0),l(h,null,k(u.menuData,e=>(a(),l(h,null,[!e.menuItem||!e.menuItem.length?(a(),S(c,{index:e.path,key:e.title},{default:v(()=>[s("span",null,_(e.title),1)]),_:2},1032,["index"])):f("",!0),e.menuItem&&e.menuItem.length?(a(),S(t,{index:e.path,key:e.title},{title:v(()=>[s("span",null,_(e.title),1)]),default:v(()=>[(a(!0),l(h,null,k(e.menuItem,n=>(a(),S(c,{index:n.path,key:n.title},{default:v(()=>[s("span",null,_(n.title),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):f("",!0)],64))),256))]),_:1},8,["default-active"])]),s("div",{class:"content",ref_key:"contentRef",ref:p},[q(M)],512),(N=B(m))!=null&&N.length?(a(),l("div",O,[s("ul",null,[(a(!0),l(h,null,k(B(m),e=>(a(),l(h,null,[e.subAnchors?f("",!0):(a(),l("li",{key:e.title,class:"anchor-item",onClick:n=>b(e.anchor,n)},[W,A(_(e.title),1)],8,Q)),e.subAnchors?(a(),l("li",{key:e.title,class:"anchor-subitem",onClick:n=>b(e.anchor,n)},[s("div",Y,[Z,A(_(e.title),1)]),s("ul",null,[(a(!0),l(h,null,k(e.subAnchor,n=>(a(),l("li",{key:n.title,class:"anchor-item",onClick:V=>b(n.anchor,V)},[ee,A(_(n.title),1)],8,$))),128))])],8,X)):f("",!0)],64))),256))])])):f("",!0)])}}});const oe=z(te,[["__scopeId","data-v-9a2809e3"]]);export{oe as S};
